<!doctype html>
<html>
   <head> 
      <meta charset="utf-8">
      <script src="russian.js"></script>
      <script src="irregular.js"></script>
      <script src="testcase.js"></script>
      <link rel="stylesheet" href="russian.css" type="text/css"></link>
   </head>
   <body onload="init()">
      <h1>Russian Regular Verb Conjugation Generator</h1>
      <address style="text-align: right">Helder da Rocha (helder.darocha@gmail.com)</address>

      <p>This page runs a <a href="russian.js">script</a> I made that applies grammar rules to generate past/present/future
      verb conjugations in Russian. It's not complete and shoudn't be used as a reference of any kind. 
      The conjugations are <b>generated by a computer program</b>, applying grammar rules which will work on verbs
      which conjugate according to regular predictable rules.
      <b>Verbs which do not have predictable rules will obviously be conjugated incorrectly</b>, 
      although many of them will only fail in  one of the tenses.</p>
      
      <p>I didn't write this <a href="russian.js">script</a> for any practical reason, but only to help myself learn Russian verbs. 
      Writing it helped me review the grammar, correct my exercises and expand my vocabulary. You are free to use it for any 
      purpose. If you know JavaScript, you can try to modify it. The same principles might be applied to other languages that 
      have similar rules. You might also want to get the 
      <a href="testcase.js">other script</a> that I used to generate the test case results. 
      I'm still studying Russian so I might also improve this code later, if I have time (and will gladly accept
      any code contributions as well). It would be nice, for example, to add stress marks, correctly accented <mark>ё</mark>, generate infinitives
      correctly and to deal with very irregular verbs in an efficient way.</p>

      <h2>How to use it</h2>
      <p>The <a href="russian.js">script</a> may be used to generate arbitrary conjugations following grammar rules using
      the notation syntax described below. The grammatical notation I used is from the excellent
      <a href="http://www.freelanguagecourses.com/category/language/russian/page/3/">University Of Princeton Russian Course by David Freedel</a>,
      that I use to study the Russian language, and which can be downloaded for free. This notation is different from the common dictionary
      notation and does not derive stems from the infinite form of the verb. But it is better because it can include enough information to 
      generate most conjugations (even for verbs that normally would be considered irregular because they have double stems or mutating consonants.)

      <p>The notation I used is briefly described below (for more details, check the Russian grammar I mentioned above):
      <table>
      <tr><td>stem<mark>+</mark>			</td><td>Basic stem: apply rules to the <mark>+</mark> to conjugate</td></tr>
      <tr><td>stem+<mark>ся</mark>		</td><td>Apply rules to the <mark>+</mark> and add <mark>ся</mark> or <mark>сь</mark> according to rules</td></tr>
      <tr><td>stem<mark>[</mark>ну<mark>]</mark>+		</td><td>Apply rules to the <mark>+</mark> and remove <mark>ну</mark> in the past</td></tr>
      <tr><td>stem+<mark>(</mark>е<mark>)</mark>		</td><td>Apply rules, removing or adding "cluster buster" vowel</td></tr>
      <tr><td><mark>{</mark>present-stem+<mark>/</mark>past-stem+<mark>}</mark>	</td><td>Double stem: one for past, aonther for present and future</td></tr>
      <tr><td>impf-stem+<mark>//</mark>prefix<mark>-</mark></td><td>Full notation for a verb pair, where perfective is formed by prefix</td></tr>
      <tr><td>impf-stem+<mark>//</mark>perf-stem+	</td><td>Full notation for a verb pair, where perfective is provided</td></tr>
      <tr><td><mark>{</mark>present-stem+<mark>/</mark>past-impf-stem+<mark>}</mark><mark>//<br></mark><mark>{</mark>future-stem+<mark>/</mark>past-perf-stem+<mark>}</mark></td><td>Full notation for a verb pair, with double stems for both verbs</td></tr>
      </table>
      </p>
      <p>Most of the grammar rules are applied to the stem endings, and usually involve only the last and second last characters in the stem 
      (for example <mark>123за</mark>, <mark>123з</mark>, <mark>123жа</mark> and <mark>123зе</mark> produce different endings, since the rules
      applied may cause consonant mutations or insertions). 
      But there are other situations, like "cluster buster" vowels
      inserted into conjugations (<mark>наш<b>ё</b>л</mark>, <mark>нашла</mark>), for example, disappearing unstressed <mark>ну</mark> from the past tense, 
      and different
      present/future tense when the stem ends in <mark>евай+</mark> or <mark>овай+</mark>. You can try the script yourself below</p>
            
      <h2>Try it out</h2>
      <p>Type anything you want. The "<mark>//</mark>" separates perfective and
      inperfective stems (you can type only one if you wish and omit the "<mark>//</mark>") and different present/past stems may be included in <mark>{</mark> braces <mark>}</mark> 
      separating the stems with a single slash "<mark>/</mark>". Don't forget the "<mark>+</mark>" since it marks the place where the endings are placed.
      There is no validation, so if you forget symbols like the '<mark>+</mark>' or add any spaces, you may get weird results. 
      Use the notation above and see the test case examples below. </p>
      <form action="javascript:tryIt()">
         <input id="entry" type="text" name="stemString" value="123овай+//123к+"size="40">
         <input type="submit" value="Generate Conjugations">
      </form>
      
      <h2>Test Cases</h2>
      <p>I used the 39 verb pairs below to test the script. It fails with the last three, because
      the grammar rules I used to form their conjugation are not part of the script (they are very irregular).
      But they are displayed correctly in this page, as default,
      because I replaced the generated data with some static data for some selected irregular verbs. 
      You can turn that off clicking below. Try typing <mark>захоте+</mark> in the box above with and
      without the script to see the difference.

      <form>
      <p><input type="checkbox" onclick="toggleScript(this, thePage)"></input> Click here to
      see only script generated data (incorrect for the last three verbs). These verbs are in this
      <a href="irregular.js">other script</a> .</p>
      </form>

      <script>
          var thePage;
          function init() {
              thePage = document.getElementById("tables");
              test(thePage);
          }
          function tryIt() { 
              var stemString = document.getElementById("entry").value;
              var floating = document.getElementById("test");
              floating.innerHTML=''
              conjugate(stemString, floating, null);
              floating.style.visibility = "visible";
          }
      </script>
      <div id="tables">
      </div>
      <div id="test" style="visibility: hidden" onclick="this.style.visibility='hidden'; this.innerHTML=''"></div>
    </body>
</html>